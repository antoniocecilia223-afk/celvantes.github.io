<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cervantes | Super App Global</title>
    <style>
        :root { --gold: #d4af37; --bg: #050505; --card: #121212; --green: #25d366; --text: #e0e0e0; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; height: 100vh; overflow: hidden; }

        /* SIDEBAR */
        .sidebar { width: 240px; background: #000; border-right: 1px solid #222; display: flex; flex-direction: column; shrink: 0; }
        .sidebar-header { padding: 25px; font-size: 1.5rem; color: var(--gold); font-weight: bold; border-bottom: 1px solid #222; text-align: center; }
        .nav-item { padding: 12px 20px; color: #aaa; text-decoration: none; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: 0.3s; font-size: 0.95rem; }
        .nav-item:hover, .nav-item.active { background: #111; color: var(--gold); border-left: 3px solid var(--gold); }
        .nav-item i { font-style: normal; font-size: 1.2rem; }

        /* √ÅREA DE CONTE√öDO */
        .main { flex-grow: 1; overflow-y: auto; padding-bottom: 50px; scroll-behavior: smooth; }
        .section { display: none; padding: 20px; max-width: 900px; margin: 0 auto; }
        .section.active { display: block; }

        /* REELS / V√çDEOS (Estilo Mobile-First) */
        .reels-container { display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .reel-card { width: 100%; max-width: 350px; height: 600px; background: #000; border-radius: 15px; position: relative; overflow: hidden; border: 1px solid #333; }
        .reel-video { width: 100%; height: 100%; object-fit: cover; }
        .reel-overlay { position: absolute; bottom: 20px; left: 15px; text-shadow: 1px 1px 5px rgba(0,0,0,0.8); }

        /* CARDS GERAIS */
        .card { background: var(--card); border: 1px solid #222; border-radius: 12px; padding: 20px; margin-bottom: 20px; }
        input, textarea, select { width: 100%; padding: 12px; background: #000; border: 1px solid #333; color: white; border-radius: 8px; margin: 8px 0; box-sizing: border-box; }
        .btn { background: var(--gold); color: black; border: none; padding: 12px; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; }
        
        /* CHAT */
        .chat-box { height: 300px; overflow-y: auto; background: #080808; border: 1px solid #222; padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; flex-direction: column; gap: 10px; }
        .msg { padding: 10px; border-radius: 8px; max-width: 80%; font-size: 0.9rem; }
        .msg.sent { background: var(--gold); color: black; align-self: flex-end; }
        .msg.received { background: #333; align-self: flex-start; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="sidebar-header">CERVANTES</div>
    <div class="nav-item active" onclick="show('feed')"><i>üè†</i> Feed / V√≠deos</div>
    <div class="nav-item" onclick="show('reels')"><i>üé¨</i> Reels</div>
    <div class="nav-item" onclick="show('chat')"><i>üí¨</i> Mensagens / Grupos</div>
    <div class="nav-item" onclick="show('ia')"><i>ü§ñ</i> IA Developer</div>
    <div class="nav-item" onclick="window.open('https://meet.jit.si/CervantesGlobal')"><i>üìπ</i> Chamada de V√≠deo</div>
    <div class="nav-item" onclick="show('config')"><i>‚öôÔ∏è</i> Configura√ß√µes</div>
</div>

<div class="main">
    
    <div id="feed" class="section active">
        <h2>V√≠deos da Comunidade</h2>
        <div class="card">
            <video controls width="100%" style="border-radius: 8px;">
                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
            </video>
            <h3>Como criar a sua pr√≥pria Super App em 2026</h3>
            <p>@Cervantes_Admin ‚Ä¢ 1.2M visualiza√ß√µes</p>
        </div>
    </div>

    <div id="reels" class="section">
        <div class="reels-container">
            <div class="reel-card">
                <video class="reel-video" loop onclick="this.paused ? this.play() : this.pause()">
                    <source src="https://www.w3schools.com/html/movie.mp4" type="video/mp4">
                </video>
                <div class="reel-overlay">
                    <strong>@Utilizador_Pro</strong>
                    <p>IA √© o futuro! üöÄ #Cervantes #Angola</p>
                </div>
            </div>
        </div>
    </div>

    <div id="chat" class="section">
        <h2>Mensagens Privadas & Grupos</h2>
        <div class="card">
            <input type="text" id="destinatario" placeholder="Para: (Nome ou N√∫mero)">
            <div class="chat-box" id="msgList">
                <div class="msg received">Ol√°! Bem-vindo ao chat Cervantes.</div>
            </div>
            <div style="display: flex; gap: 5px;">
                <input type="text" id="msgInput" placeholder="Escreve uma mensagem...">
                <button onclick="enviarMensagem()" style="padding: 10px; background: var(--green); border:none; border-radius:8px; color:white; cursor:pointer;">‚û§</button>
            </div>
            <button class="btn" style="margin-top:10px; background: #333; color: white;" onclick="alert('Funcionalidade de Grupo Ativada!')">üë• Criar Nova Comunidade</button>
        </div>
    </div>

    <div id="ia" class="section">
        <h2>ü§ñ Cervantes IA Developer</h2>
        <div class="card">
            <textarea id="iaPrompt" rows="4" placeholder="Cria um c√≥digo para uma App de vendas em Python..."></textarea>
            <button class="btn" onclick="askIA()">Gerar com Gemini 1.5</button>
            <div id="iaResult" style="margin-top: 15px; color: #00ff00; font-family: monospace; white-space: pre-wrap;"></div>
        </div>
    </div>

</div>

<script>
    const KEY_IA = "AIzaSyC-RiddwgnZLD-VyWa9KeyxlTy0kJt1MoY";

    function show(id) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        // Marcar item no menu
        event.currentTarget.classList.add('active');
    }

    // L√ìGICA DO CHAT (GUARDA NO NAVEGADOR)
    function enviarMensagem() {
        const input = document.getElementById('msgInput');
        const list = document.getElementById('msgList');
        if(!input.value) return;

        const div = document.createElement('div');
        div.className = 'msg sent';
        div.innerText = input.value;
        list.appendChild(div);
        
        // Simular resposta autom√°tica
        setTimeout(() => {
            const resp = document.createElement('div');
            resp.className = 'msg received';
            resp.innerText = "Mensagem recebida pelo servidor Cervantes.";
            list.appendChild(resp);
            list.scrollTop = list.scrollHeight;
        }, 1000);

        input.value = "";
        list.scrollTop = list.scrollHeight;
    }

    // IA REAL
    async function askIA() {
        const p = document.getElementById('iaPrompt').value;
        const res = document.getElementById('iaResult');
        if(!p) return;

        res.innerText = "ü§ñ A processar o teu c√≥digo global...";
        try {
            const r = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${KEY_IA}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: p }] }] })
            });
            const d = await r.json();
            res.innerText = d.candidates[0].content.parts[0].text;
        } catch (e) {
            res.innerText = "‚ùå Erro na Chave. Verifique se a chave est√° ativa no Google AI Studio.";
        }
    }
</script>

</body>
</html>
