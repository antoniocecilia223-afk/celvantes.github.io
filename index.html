<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cervantes | Super App Oficial</title>
    <style>
        :root { --gold: #d4af37; --bg: #050505; --card: #111; --green: #25d366; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; display: flex; }
        
        .sidebar { width: 250px; background: #000; height: 100vh; position: fixed; border-right: 1px solid #222; }
        .sidebar-header { padding: 25px; font-size: 1.5rem; font-weight: bold; color: var(--gold); text-align: center; border-bottom: 1px solid #222; }
        .menu-item { padding: 15px 20px; display: block; cursor: pointer; color: #bbb; text-decoration: none; border-bottom: 1px solid #080808; }
        .menu-item:hover { background: #111; color: var(--gold); }

        .main-content { margin-left: 250px; flex-grow: 1; padding: 20px; }
        .section { display: none; background: var(--card); padding: 25px; border-radius: 15px; border: 1px solid #222; }
        .active { display: block; }

        textarea, input { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #333; color: white; border-radius: 8px; }
        .btn-ia { background: var(--gold); color: black; border: none; padding: 15px; width: 100%; font-weight: bold; border-radius: 8px; cursor: pointer; }
        
        #responseArea { background: #000; color: #00ff00; padding: 15px; border-radius: 8px; font-family: monospace; margin-top: 15px; white-space: pre-wrap; border: 1px solid #00ff0033; min-height: 50px; }
        .btn-call { background: var(--green); color: white; border: none; padding: 12px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-right: 10px; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="sidebar-header">CERVANTES</div>
    <a class="menu-item" onclick="showSec('home')">üè† In√≠cio</a>
    <a class="menu-item" onclick="showSec('chat')">üí¨ Chats e Chamadas</a>
    <a class="menu-item" onclick="showSec('ia')">ü§ñ IA Developer (Real)</a>
</div>

<div class="main-content">
    
    <div id="home" class="section active">
        <h1>Cervantes Super App 2026</h1>
        <p>Sistema Ativo com Gemini AI.</p>
    </div>

    <div id="chat" class="section">
        <h2>Comunica√ß√£o em Tempo Real</h2>
        <input type="text" id="callName" placeholder="Nome da Sala ou Nome do Utilizador">
        <button class="btn-call" onclick="iniciarChamada()">üìπ Iniciar V√≠deo Chamada Real</button>
        <p style="font-size: 0.8rem; color: #666; margin-top: 10px;">*Usa o Jitsi Meet para chamadas encriptadas sem limites.</p>
    </div>

    <div id="ia" class="section">
        <h2>ü§ñ IA Cervantes (C√©rebro Gemini)</h2>
        <p>Pe√ßa para criar sites, APKs em Python/Java ou traduzir textos oficiais:</p>
        <textarea id="userInput" rows="5" placeholder="Ex: Cria um c√≥digo Python para uma calculadora..."></textarea>
        <button class="btn-ia" id="btnGerar" onclick="chamarGemini()">GERAR COM INTELIG√äNCIA ARTIFICIAL</button>
        
        <div id="responseArea">A aguardar pedido...</div>
    </div>

</div>

<script>
    const API_KEY = "AIzaSyBge0bWGIMbtVzsPr8PwyHrlBQ6fbQtwjE"; // Tua chave real

    function showSec(id) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    // FUN√á√ÉO PARA CHAMADA REAL
    function iniciarChamada() {
        let sala = document.getElementById('callName').value || "Cervantes_Sala_Privada";
        window.open(`https://meet.jit.si/${sala}`, '_blank');
    }

    // FUN√á√ÉO PARA FALAR COM O GEMINI REAL
    async function chamarGemini() {
        const prompt = document.getElementById('userInput').value;
        const responseArea = document.getElementById('responseArea');
        const btn = document.getElementById('btnGerar');

        if (!prompt) return alert("Escreve algo primeiro!");

        responseArea.innerText = "ü§ñ A pensar e a gerar c√≥digo...";
        btn.disabled = true;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: prompt }] }]
                })
            });

            const data = await response.json();
            const textoFinal = data.candidates[0].content.parts[0].text;
            responseArea.innerText = textoFinal;
        } catch (error) {
            responseArea.innerText = "‚ùå Erro ao ligar √† IA. Verifica a tua chave ou conex√£o.";
            console.error(error);
        } finally {
            btn.disabled = false;
        }
    }
</script>

</body>
</html>
